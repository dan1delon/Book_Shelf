{"version":3,"file":"commonHelpers2.js","sources":["../src/img/icons.svg#icon-ibooks","../src/img/icons.svg#icon-trash","../src/js/shopping-list.js"],"sourcesContent":["export default \"__VITE_ASSET__f9984085__$_#icon-ibooks__\"","export default \"__VITE_ASSET__822bcc0e__$_#icon-trash__\"","import amazon from \"../img/icons.svg#icon-amazon\";\nimport appleBook from \"../img/icons.svg#icon-ibooks\";\nimport trash from \"../img/icons.svg#icon-trash\";\n\nfunction renderBooksFromLocalStorage() {\n  const key = 'selected-books';\n  const savedBooks = JSON.parse(localStorage.getItem(key)) || [];\n\n\n  const booksList = document.getElementById(\"shopping-list-books-container\");\n  booksList.innerHTML = ''; \n\n\n  savedBooks.forEach(book => {\n    const bookCard = document.createElement('div');\n    bookCard.classList.add('book-card');\n    bookCard.innerHTML = `\n      <div class=\"cover\">\n          <img src=\"${book.book_image}\" alt=\"Book Cover\" class=\"book-cover\">\n          <div class=\"about\">\n              <h2 class=\"book-title\">${book.title}</h2>\n              <p class=\"book-category\">${book.list_name}</p>\n              <p class=\"book-description\">${book.description}</p>\n              <p class=\"book-author\">${book.author}</p>\n          </div>\n      </div>\n      <div class=\"buy-book\">\n          <a href=\"${book.buy_links[0].url}\" target=\"_blank\">\n              <svg class=\"amazon\" width=\"16\" height=\"16\">\n                  <use href=\"${amazon}\"></use>\n              </svg>\n          </a>\n          <a href=\"${book.buy_links[1].url}\" target=\"_blank\">\n              <svg class=\"ibook\" width=\"16\" height=\"16\">\n                  <use href=\"${appleBook}\"></use>\n              </svg>\n          </a>\n      </div>\n      <button data-book-id=\"${book._id}\" class=\"btn-delete\">\n          <div class=\"icon-trash\">\n              <svg class=\"trash\" width=\"16\" height=\"16\">\n                  <use href=\"${trash}\"></use>\n              </svg>\n          </div>\n      </button>`;\n    booksList.appendChild(bookCard);\n  });\n\n\n\n  const deleteButtons = document.querySelectorAll('.btn-delete');\n  deleteButtons.forEach(button => {\n    button.addEventListener('click', function() {\n      const bookId = this.getAttribute('data-book-id');\n      removeFromShoppingList(bookId);\n      \n      const bookCard = this.closest('.book-card');\n      bookCard.remove();\n     \n      updateCartView();\n    });\n  });\n}\n\n\n\nrenderBooksFromLocalStorage();\n\n\nfunction removeFromShoppingList(bookId) {\n  const key = 'selected-books';\n  const savedBooks = JSON.parse(localStorage.getItem(key)) || [];\n  \n  const updatedBooks = savedBooks.filter(book => book._id !== bookId);\n \n  localStorage.setItem(key, JSON.stringify(updatedBooks));\n}\n\n\nfunction isCartEmpty() {\n  const shoppingList = document.getElementById(\"shopping-list-books-container\");\n  return shoppingList.children.length === 0;\n}\n\n\nfunction updateCartView() {\n  const cartContent = document.getElementById(\"cart-content\");\n  const donationBlock = document.getElementById(\"donation-block\");\n  \n  if (isCartEmpty()) {\n    cartContent.style.display = \"block\";\n    donationBlock.style.display = \"none\"; // Скрыть блок пожертвований\n  } else {\n    cartContent.style.display = \"none\";\n    donationBlock.style.display = \"block\"; // Показать блок пожертвований\n  }\n}\n\n\nupdateCartView();\n\n\n\n\n"],"names":["appleBook","trash","renderBooksFromLocalStorage","key","savedBooks","booksList","book","bookCard","amazon","button","bookId","removeFromShoppingList","updateCartView","updatedBooks","isCartEmpty","cartContent","donationBlock"],"mappings":"mFAAA,MAAeA,EAAA,oDCAAC,EAAA,mDCIf,SAASC,GAA8B,CACrC,MAAMC,EAAM,iBACNC,EAAa,KAAK,MAAM,aAAa,QAAQD,CAAG,CAAC,GAAK,GAGtDE,EAAY,SAAS,eAAe,+BAA+B,EACzEA,EAAU,UAAY,GAGtBD,EAAW,QAAQE,GAAQ,CACzB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,UAAY;AAAA;AAAA,sBAEHD,EAAK,UAAU;AAAA;AAAA,uCAEEA,EAAK,KAAK;AAAA,yCACRA,EAAK,SAAS;AAAA,4CACXA,EAAK,WAAW;AAAA,uCACrBA,EAAK,MAAM;AAAA;AAAA;AAAA;AAAA,qBAI7BA,EAAK,UAAU,CAAC,EAAE,GAAG;AAAA;AAAA,+BAEXE,CAAM;AAAA;AAAA;AAAA,qBAGhBF,EAAK,UAAU,CAAC,EAAE,GAAG;AAAA;AAAA,+BAEXN,CAAS;AAAA;AAAA;AAAA;AAAA,8BAIVM,EAAK,GAAG;AAAA;AAAA;AAAA,+BAGPL,CAAK;AAAA;AAAA;AAAA,iBAIhCI,EAAU,YAAYE,CAAQ,CAClC,CAAG,EAIqB,SAAS,iBAAiB,aAAa,EAC/C,QAAQE,GAAU,CAC9BA,EAAO,iBAAiB,QAAS,UAAW,CAC1C,MAAMC,EAAS,KAAK,aAAa,cAAc,EAC/CC,EAAuBD,CAAM,EAEZ,KAAK,QAAQ,YAAY,EACjC,OAAM,EAEfE,GACN,CAAK,CACL,CAAG,CACH,CAIAV,IAGA,SAASS,EAAuBD,EAAQ,CACtC,MAAMP,EAAM,iBAGNU,GAFa,KAAK,MAAM,aAAa,QAAQV,CAAG,CAAC,GAAK,IAE5B,OAAOG,GAAQA,EAAK,MAAQI,CAAM,EAElE,aAAa,QAAQP,EAAK,KAAK,UAAUU,CAAY,CAAC,CACxD,CAGA,SAASC,GAAc,CAErB,OADqB,SAAS,eAAe,+BAA+B,EACxD,SAAS,SAAW,CAC1C,CAGA,SAASF,GAAiB,CACxB,MAAMG,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAgB,SAAS,eAAe,gBAAgB,EAE1DF,EAAW,GACbC,EAAY,MAAM,QAAU,QAC5BC,EAAc,MAAM,QAAU,SAE9BD,EAAY,MAAM,QAAU,OAC5BC,EAAc,MAAM,QAAU,QAElC,CAGAJ,EAAgB"}